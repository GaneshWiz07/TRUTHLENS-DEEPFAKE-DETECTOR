# TruthLens - AI Powered Deepfake detector

<div align="center">
  <img src="public/favicon.svg" alt="TruthLens Logo" width="120" height="120">
  
  **Advanced deepfake detection and AI-generated content analysis platform**
  
  [![React](https://img.shields.io/badge/React-18.3.1-blue.svg)](https://reactjs.org/)
  [![TypeScript](https://img.shields.io/badge/TypeScript-5.5.3-blue.svg)](https://www.typescriptlang.org/)
  [![Supabase](https://img.shields.io/badge/Supabase-2.39.0-green.svg)](https://supabase.com/)
  [![Tailwind CSS](https://img.shields.io/badge/Tailwind_CSS-3.4.1-38B2AC.svg)](https://tailwindcss.com/)
  [![Vite](https://img.shields.io/badge/Vite-5.4.2-646CFF.svg)](https://vitejs.dev/)
</div>

**LIVE SITE** : [https://truthlens-ai-detect.netlify.app](https://truthlens-ai-detect.netlify.app)
## üöÄ Overview

TruthLens is a cutting-edge web application that uses advanced AI and machine learning models to detect deepfakes, AI-generated content, and synthetic media. Built with modern web technologies, it provides real-time analysis with detailed explanations and comprehensive reporting capabilities.

### ‚ú® Key Features

- **üé≠ Visual Deepfake Detection** - Analyze images and videos for AI-generated content
- **üé§ Voice Synthesis Detection** - Identify AI-generated speech and voice cloning
- **üß† AI Text Analysis** - Detect content generated by GPT, Claude, LLaMA, and other LLMs
- **üìç Location Verification** - Cross-reference visual landmarks with text claims
- **üîÑ Combined Analysis** - Multi-modal detection for coordinated misinformation
- **üìä Real-time Results** - Instant analysis with confidence scores and visual explanations
- **üì± Responsive Design** - Optimized for all devices from mobile to desktop
- **üìà Analytics Dashboard** - Comprehensive analysis history and statistics
- **üìÑ PDF Reports** - Professional reports for legal and forensic use

## üèóÔ∏è Architecture

### Frontend Stack
- **React 18** with TypeScript for type-safe development
- **Tailwind CSS** for responsive, utility-first styling
- **Vite** for fast development and optimized builds
- **Lucide React** for consistent iconography
- **Recharts** for data visualization
- **React Dropzone** for file upload handling

### Backend & Database
- **Supabase** for authentication, database, and edge functions
- **PostgreSQL** with Row Level Security (RLS)
- **Edge Functions** for serverless AI analysis
- **Real-time subscriptions** for live updates

### AI & Analysis
- **Hugging Face API** integration for ML models
- **Custom detection algorithms** for various content types
- **Multi-modal analysis** combining visual, audio, and text
- **Confidence scoring** with detailed explanations

## üìã Prerequisites

Before you begin, ensure you have the following installed:

- **Node.js** (v18 or higher)
- **npm** or **yarn** package manager
- **Git** for version control
- **Supabase CLI** (optional, for local development)

## üõ†Ô∏è Installation & Setup

### 1. Clone the Repository

```bash
git clone https://github.com/yourusername/truthlens.git
cd truthlens
```

### 2. Install Dependencies

```bash
npm install
```

### 3. Environment Configuration

Create a `.env` file in the root directory:

```env
# Supabase Configuration
VITE_SUPABASE_URL=your_supabase_project_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key

# Hugging Face API (Backend Only - DO NOT expose in frontend)
HUGGING_FACE_API_KEY=your_hugging_face_api_key
```

### 4. Supabase Setup

#### Option A: Use Existing Supabase Project
1. Create a new project at [supabase.com](https://supabase.com)
2. Copy your project URL and anon key to the `.env` file
3. Run the database migrations:

```bash
# If you have Supabase CLI installed
supabase db push

# Or manually run the SQL files in supabase/migrations/
```

#### Option B: Local Supabase Development
```bash
# Install Supabase CLI
npm install -g supabase

# Start local Supabase
supabase start

# Apply migrations
supabase db reset
```

### 5. Database Schema

The application uses the following main tables:

- **`analyses`** - Stores analysis results and metadata
- **`user_api_tokens`** - Manages API tokens for Chrome extension
- **`users`** - User authentication (managed by Supabase Auth)

Key features of the database:
- Row Level Security (RLS) enabled on all tables
- Automatic timestamps and UUID generation
- Foreign key constraints for data integrity
- Optimized indexes for performance

### 6. Start Development Server

```bash
npm run dev
```

The application will be available at `http://localhost:5173`

## üîß Configuration

### Supabase Edge Functions

The application uses several edge functions for AI analysis:

- **`analyze-deepfake`** - Media deepfake detection
- **`analyze-voice-deepfake`** - Voice synthesis detection
- **`analyze-text-ai`** - AI text generation detection
- **`analyze-location-verification`** - Location verification
- **`analyze-combined-deepfake`** - Multi-modal analysis
- **`api-analyze`** - Public API endpoint
- **`api-test`** - API token validation

### Hugging Face Integration

To enable advanced AI analysis:

1. Sign up at [Hugging Face](https://huggingface.co/)
2. Generate an API token
3. Add it to your Supabase project's environment variables
4. The edge functions will automatically use it for enhanced detection


## üöÄ Deployment

### Frontend Deployment (Netlify)

1. **Build the project:**
```bash
npm run build
```

2. **Deploy to Netlify:**
   - Connect your GitHub repository to Netlify
   - Set build command: `npm run build`
   - Set publish directory: `dist`
   - Add environment variables in Netlify dashboard

3. **Environment Variables:**
```
VITE_SUPABASE_URL=your_production_supabase_url
VITE_SUPABASE_ANON_KEY=your_production_anon_key
```

### Supabase Production Setup

1. **Create production project** at supabase.com
2. **Apply migrations:**
```bash
supabase db push --project-ref your-project-ref
```

3. **Deploy edge functions:**
```bash
supabase functions deploy --project-ref your-project-ref
```

4. **Set environment variables:**
```bash
supabase secrets set HUGGING_FACE_API_KEY=your_key --project-ref your-project-ref
```

### Custom Domain Setup

1. Configure custom domain in Netlify
2. Update CORS settings in Supabase
3. Update Chrome extension manifest with new domain

## üì± Usage Guide

### Basic Analysis

1. **Sign up/Sign in** to create an account
2. **Choose analysis type:**
   - Media Analysis (images/videos)
   - Voice Analysis (audio files)
   - AI Text Detection (text content)
   - Location Verification (media + location claims)
   - Combined Analysis (multi-modal)

3. **Upload content** via drag-and-drop or file picker
4. **Review results** with confidence scores and explanations
5. **Download reports** in PDF format

### Chrome Extension

1. **Install extension** from Chrome Web Store or load unpacked
2. **Configure API token** from your dashboard
3. **Right-click any image/video** on the web
4. **Select "Scan with TruthLens"** from context menu
5. **View results** in notification popup

### API Usage

```javascript
// Example API call
const response = await fetch('https://your-domain.com/api/analyze', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer your-api-token',
    'Content-Type': 'multipart/form-data'
  },
  body: formData
});

const result = await response.json();
```

## üß™ Testing

### Run Tests
```bash
npm run test
```

### Manual Testing Checklist

#### Authentication
- [ ] User registration with email/password
- [ ] User login with valid credentials
- [ ] Error handling for invalid credentials
- [ ] Password visibility toggle
- [ ] Form validation

#### File Upload
- [ ] Drag and drop functionality
- [ ] File type validation
- [ ] File size limits
- [ ] Progress indicators
- [ ] Error handling

#### Analysis Types
- [ ] Media analysis (images/videos)
- [ ] Voice analysis (audio files)
- [ ] Text analysis (AI detection)
- [ ] Location verification
- [ ] Combined analysis modes

#### Results & Reports
- [ ] Confidence score display
- [ ] Visual explanations
- [ ] PDF report generation
- [ ] Analysis history
- [ ] Result sharing

#### Responsive Design
- [ ] Mobile phone (320px+)
- [ ] Tablet (768px+)
- [ ] Desktop (1024px+)
- [ ] Large screens (1440px+)

## üîí Security

### Data Protection
- **End-to-end encryption** for file uploads
- **Row Level Security** in database
- **API token authentication** for external access
- **CORS protection** for cross-origin requests
- **Input validation** and sanitization

### Privacy
- **No permanent file storage** - files are processed and deleted
- **User data isolation** - users can only access their own data
- **Audit logging** for security monitoring
- **GDPR compliance** features

### Best Practices
- Regular security updates
- Dependency vulnerability scanning
- Environment variable protection
- Rate limiting on API endpoints

## ü§ù Contributing

We welcome contributions! Please follow these steps:

1. **Fork the repository**
2. **Create a feature branch:**
```bash
git checkout -b feature/amazing-feature
```

3. **Make your changes** following our coding standards:
   - Use TypeScript for type safety
   - Follow ESLint configuration
   - Write responsive, accessible code
   - Add tests for new features

4. **Commit your changes:**
```bash
git commit -m 'Add amazing feature'
```

5. **Push to the branch:**
```bash
git push origin feature/amazing-feature
```

6. **Open a Pull Request**

### Code Style Guidelines

- Use **TypeScript** for all new code
- Follow **React best practices** and hooks patterns
- Use **Tailwind CSS** for styling
- Implement **responsive design** for all components
- Add **proper error handling** and loading states
- Write **clear, descriptive commit messages**

## üìä Performance

### Optimization Features
- **Code splitting** with React.lazy()
- **Image optimization** with WebP support
- **Caching strategies** for API responses
- **Bundle size optimization** with Vite
- **Progressive loading** for large datasets

### Monitoring
- **Real-time analytics** with Supabase
- **Error tracking** and reporting
- **Performance metrics** collection
- **User experience monitoring**

## üêõ Troubleshooting

### Common Issues

#### Build Errors
```bash
# Clear node_modules and reinstall
rm -rf node_modules package-lock.json
npm install

# Clear Vite cache
rm -rf .vite
npm run dev
```

#### Supabase Connection Issues
- Verify environment variables are correct
- Check Supabase project status
- Ensure RLS policies are properly configured
- Verify API keys have correct permissions

#### Chrome Extension Issues
- Check manifest.json permissions
- Verify API token is valid
- Ensure CORS is configured for your domain
- Check browser console for errors

#### Performance Issues
- Enable production build optimizations
- Check network requests in DevTools
- Verify image sizes and formats
- Monitor bundle size with `npm run build`

### Getting Help

1. **Check existing issues** in GitHub repository
2. **Search documentation** and README
3. **Join our Discord** community (link in repository)
4. **Create detailed issue** with reproduction steps

## üìÑ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

